{
  "accessTokenPrefix": "Bearer ",
  "addDatasetEnabled": false,
  "allowConfigOverrides": true,  
  "archiveWorkflowEnabled": false,
  "datasetReduceEnabled": true,
  "datasetJsonScientificMetadata": true,
  "editDatasetEnabled": true,
  "editDatasetSampleEnabled": true,
  "editMetadataEnabled": true,
  "editPublishedData": true,
  "addSampleEnabled": false,
  "externalAuthEndpoint": "/api/v3/auth/msad",
  "facility": "SciCat Vanilla CI Test",
  "siteIcon": "site-header-logo.png",
  "sitetitle": "",
  "siteSciCatLogo": "",  
  "loginFacilityLabel": "SciCat Vanilla",
  "loginLdapLabel": "Ldap",
  "loginLocalLabel": "Local",
  "loginFacilityEnabled": true,
  "loginLdapEnabled": true,
  "loginLocalEnabled": true,
  "fileColorEnabled": true,
  "fileDownloadEnabled": true,
  "gettingStarted": null,
  "ingestManual": null,
  "jobsEnabled": true,
  "jsonMetadataEnabled": true,
  "landingPage": "doi.ess.eu/detail/",
  "lbBaseURL": "http://localhost:3000",
    "ingestorComponent": {
    "ingestorEnabled": false,
    "ingestorAutodiscoveryOptions": [
      {
        "mailDomain": "university.ch",
        "description": "University/facility of Choice",
        "facilityBackend": "http://localhost:8888"
      }
    ]
  },
  "logbookEnabled": true,
  "loginFormEnabled": true,
  "thumbnailFetchLimitPerPage": 100,
  "metadataPreviewEnabled": true,
  "metadataStructure": "",
  "multipleDownloadAction": "http:/localhost/zip",
  "multipleDownloadEnabled": true,
  "oAuth2Endpoints": [
    {
      "authURL": "api/v3/auth/oidc",
      "displayText": "CI Test Identity"
    }
  ],
  "policiesEnabled": true,
  "retrieveDestinations": [],
  "riotBaseUrl": "",
  "scienceSearchEnabled": true,
  "scienceSearchUnitsEnabled": true,
  "searchPublicDataEnabled": true,
  "searchSamples": true,
  "sftpHost": "",
  "shareEnabled": true,
  "sourceFolder": "/data/scicat/vanilla",
  "maxDirectDownloadSize": 5000000000,
  "maxFileSizeWarning": "Some files are above <maxDirectDownloadSize> and cannot be downloaded directly. These file can be downloaded via sftp host: <sftpHost> in directory: <sourceFolder>",
  "shoppingCartEnabled": true,
  "shoppingCartOnHeader": true,
  "tableSciDataEnabled": true,
  "datasetDetailsShowMissingProposalId": false,
  "notificationInterceptorEnabled": true,
  "metadataEditingUnitListDisabled": true,
  "datafilesActionsEnabled": true,
  "datafilesActions": [
    {
      "id": "eed8efec-4354-11ef-a3b5-d75573a5d37f",
      "description": "This action let users download all files using the zip service",
      "order": 1,
      "label": "Download All",
      "files": "all",
      "mat_icon": "download",
      "type": "form",
      "url": "http://localhost:4200/download/all",
      "target": "_blank",
      "variables" : {
        "pid": "#Dataset0Pid",
        "files": "#Dataset0FilesPath",
        "totalSize": "#Dataset0FilesTotalSize",
        "folder": "#Dataset0SourceFolder"
      },
      "enabled": "#MaxDownloadableSize(@totalSize)",
      "inputs" : {
        "item[]" : "@pid",
        "directory[]" : "@folder",
        "files[]": "@files"
      },
      "authorization": ["#datasetAccess", "#datasetPublic"]
    },
    {
      "id": "3072fafc-4363-11ef-b9f9-ebf568222d26",
      "description": "This action let users download selected files using the zip service",
      "order": 2,
      "label": "Download Selected",
      "files": "selected",
      "mat_icon": "download",
      "type": "form",
      "url": "http://localhost:4200/download/selected",
      "target": "_blank",
      "variables" : {
        "pid": "#Dataset0Pid",
        "files": "#Dataset0SelectedFilesPath",
        "selected": "#Dataset0SelectedFilesCount",
        "totalSize": "#Dataset0SelectedFilesTotalSize",
        "folder": "#Dataset0SourceFolder"
      },
      "inputs" : {
        "auth_token" : "#tokenBearer",
        "jwt" : "#jwt",
        "item[]" : "@pid",
        "directory[]" : "@folder",
        "files[]": "@files"
      },
      "enabled": "#Length(@files) && #MaxDownloadableSize(@totalSize)",
      "authorization": ["#datasetAccess", "#datasetPublic"]
    },
    {
      "id": "4f974f0e-4364-11ef-9c63-03d19f813f4e",
      "description": "This action let users download jupyter notebook properly populated with dataset pid and all files using an instance of sciwyrm",
      "order": 3,
      "label": "Notebook All (Form)",
      "files": "all",
      "icon": "/assets/icons/jupyter_logo.png",
      "type": "form",
      "url": "http://localhost:4200/notebook/all/form",
      "target": "_blank",
      "variables" : {
        "pid": "#Dataset0Pid",
        "files": "#Dataset0FilesPath",
        "totalSize": "#Dataset0FilesTotalSize",
        "folder": "#Dataset0SourceFolder"
      },
      "enabled": "",
      "inputs" : {
        "auth_token" : "#token",
        "jwt" : "#jwt",
        "item[]" : "@pid",
        "directory[]" : "@folder",
        "files[]": "@files"
      },      
      "authorization": ["#datasetAccess", "#datasetPublic"]
    },
    {
      "id": "fa3ce6ee-482d-11ef-95e9-ff2c80dd50bd",
      "order": 4,
      "label": "Notebook Selected (Form)",
      "files": "selected",
      "icon": "/assets/icons/jupyter_logo.png",
      "type": "form",
      "url": "http://localhost:4200/notebook/selected/form",
      "target": "_blank",
      "variables" : {
        "pid": "#Dataset0Pid",
        "files": "#Dataset0SelectedFilesPath",
        "selected": "#Dataset0SelectedFilesCount",
        "totalSize": "#Dataset0SelectedFilesTotalSize",
        "folder": "#Dataset0SourceFolder"
      },
      "inputs" : {
        "auth_token" : "#token",
        "jwt" : "#jwt",
        "item[]" : "@pid",
        "directory[]" : "@folder",
        "files[]": "@files"
      },
      "enabled": "#Length(@files) > 0",
      "authorization": ["#datasetAccess", "#datasetPublic"]
    },
    {
      "id": "0cd5b592-0b1a-11f0-a42c-23e177127ee7",
      "description": "This action let users download jupyter notebook properly populated with dataset pid and all files using an instance of sciwyrm",
      "order": 5,
      "label": "Notebook All (Download JSON)",
      "files": "all",
      "type": "json-download",
      "icon": "/assets/icons/jupyter_logo.png",
      "url": "http://localhost:4200/notebook/all/json",
      "target": "_blank",
      "authorization": ["#datasetAccess", "#datasetPublic"],
      "variables" : {
        "pid": "#Dataset0Pid",
        "files": "#Dataset0FilesPath",
        "folder": "#Dataset0SourceFolder"
      },
      "payload": "{\"template_id\":\"c975455e-ede3-11ef-94fb-138c9cd51fc0\",\"parameters\":{\"dataset\":\"{{ @pid }}\",\"directory\":\"{{ @folder }}\",\"files\": {{ @files[] }},\"jwt\":\"{{ #jwt }}\",\"scicat_url\":\"https://staging.scicat.ess.url\",\"file_server_url\":\"sftserver2.esss.dk\",\"file_server_port\":\"22\"}}",
      "filename": "{{ #uuid }}.ipynb"
    },
    {
      "id": "a414773a-a526-11f0-a7f2-ff1026e5dba9",
      "description": "This action let users download jupyter notebook properly populated with dataset pid and selected files using an instance of sciwyrm",
      "order": 6,
      "label": "Notebook Selected (Download JSON)",
      "type": "json-to-download",
      "icon": "/assets/icons/jupyter_logo.png",
      "url": "http://localhost:4200/notebook/selected/json",
      "target": "_blank",
      "enabled": "#Length(@files) > 0",
      "authorization": ["#datasetAccess", "#datasetPublic"],
      "variables" : {
        "pid": "#Dataset0Pid",
        "files": "#Dataset0SelectedFilesPath",
        "selected": "#Dataset0SelectedFilesCount",
        "folder": "#Dataset0SourceFolder"
      },
      "payload": "{\"template_id\":\"c975455e-ede3-11ef-94fb-138c9cd51fc0\",\"parameters\":{\"dataset\":\"{{ @pid }}\",\"directory\":\"{{ @folder }}\",\"files\": {{ @files[] }},\"jwt\":\"{{ #jwt }}\",\"scicat_url\":\"https://staging.scicat.ess.url\",\"file_server_url\":\"sftserver2.esss.dk\",\"file_server_port\":\"22\"}}",
      "filename": "{{ #uuid }}.ipynb"
    },    
    {
      "id": "9c6a11b6-a526-11f0-8795-6f025b320cc3",
      "description": "This action let users make a call an arbitrary URL and store the reply in the store",
      "order": 7,
      "label": "Publish",
      "type": "xhr",
      "mat_icon": "action",
      "method" : "PATCH",
      "url": "http://localhost:4200/dataset/{{ @pid }}/",
      "target": "_blank",
      "enabled": "#datasetOwner && @isPublished",
      "authorization": "#datasetOwner && !@isPublished",
      "variables" : {
        "pid": "@Dataset0Pid",
        "isPublished" : "#Dataset[0]Field[isPublished]"
      },
      "payload": "{\"isPublished\":\"true\"}",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "#tokenBearer"
      }
    },
    {
      "id": "94a1d694-a526-11f0-947b-038d53cd837a",
      "description": "This action let users make a call an arbitrary URL and store the reply in the store",
      "order": 8,
      "label": "Unpublish",
      "type": "xhr",
      "mat_icon": "action",
      "method" : "PATCH",
      "url": "http://localhost:4200/dataset/{{ @pid }}/",
      "target": "_blank",
      "enabled": "#datasetOwner && !@isPublished",
      "authorization": "#datasetOwner && @isPublished",
      "variables" : {
        "pid": "#Dataset0Pid",
        "isPublished" : "#Dataset[0]Field[isPublished]"
      },
      "payload": "{\"isPublished\":\"false\"}",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "#tokenBearer"
      }
    },
    {
      "id": "c3bcbd40-a526-11f0-915a-93eeff0860ab",
      "description": "This action let users jump to another URL entirely",
      "order": 9,
      "label": "ESS",
      "type": "link",
      "mat_icon": "action",
      "url": "http://localhost:4200/external",
      "target": "_blank"
    }
  ],
  "datasetDetailsActionsEnabled": false,
  "datasetDetailsActions": [],
  "selectionActionsEnabled": true,
  "selectionActions": [],
  "labelMaps": {
    "filters": {
      "LocationFilter": "Location",
      "PidFilter": "Pid",
      "GroupFilter": "Group",
      "TypeFilter": "Type",
      "KeywordFilter": "Keyword",
      "DateRangeFilter": "Start Date - End Date",
      "TextFilter": "Text"
    }
  },
  "defaultDatasetsListSettings": {
    "columns": [
      {
        "name": "select",
        "order": 0,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "pid",
        "order": 1,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "datasetName",
        "order": 2,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "runNumber",
        "order": 3,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "sourceFolder",
        "order": 4,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "size",
        "order": 5,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "creationTime",
        "order": 6,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "type",
        "order": 7,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "image",
        "order": 8,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "metadata",
        "order": 9,
        "type": "standard",
        "enabled": false
      },
      {
        "name": "proposalId",
        "order": 10,
        "type": "standard",
        "enabled": true
      },
      {
        "name": "ownerGroup",
        "order": 11,
        "type": "standard",
        "enabled": false
      },
      {
        "name": "dataStatus",
        "order": 12,
        "type": "standard",
        "enabled": false
      }
    ],
    "filters": [
      {
        "key": "creationLocation",
        "label": "Location",
        "type": "multiSelect",
        "description": "Filter by creation location on the dataset",
        "enabled": true
      },
      {
        "key": "pid",
        "label": "Pid",
        "type": "text",
        "description": "Filter by dataset pid",
        "enabled": true
      },
      {
        "key": "ownerGroup",
        "label": "Group",
        "type": "multiSelect",
        "description": "Filter by owner group of the dataset",
        "enabled": true
      },
      {
        "key": "type",
        "label": "Type",
        "type": "multiSelect",
        "description": "Filter by dataset type",
        "enabled": true
      },
      {
        "key": "keywords",
        "label": "Keyword",
        "type": "multiSelect",
        "description": "Filter by keywords in the dataset",
        "enabled": true
      },
      {
        "key": "creationTime",
        "label": "Creation Time",
        "type": "dateRange",
        "description": "Filter by creation time of the dataset",
        "enabled": true
      }
    ],
    "conditions": []
  },
  "labelsLocalization": {
    "dataset": {
      "pid": "PID",
      "description": "Description",
      "principalInvestigator": "Principal Investigator",
      "keywords": "Keywords",
      "creationTime": "Creation Time",
      "scientificMetadata": "Scientific Metadata",
      "metadataJsonView": "Metadata JsonView",
      "datasetName": "Dataset Name"
    },
    "proposal": {
      "General Information": "Proposal Information",
      "Title": "Proposal Title",
      "Abstract": "Abstract",
      "Proposal Id": "Proposal Id",
      "Proposal Type": "Proposal Type",
      "Parent Proposal": "Parent Proposal",
      "Start Time": "Start Time",
      "End Time": "End Time",
      "Creator Information": "People",
      "Main Proposer": "Proposal Submitted By",
      "Principal Investigator": "Principal Investigator",
      "Metadata": "Additional Information"
    }
  },
  "dateFormat": "yyyy-MM-dd HH:mm",
  "datasetDetailComponent": {
    "enableCustomizedComponent": false,
    "customization": [
      {
        "type": "regular",
        "label": "General Information",
        "order": 0,
        "row": 1,
        "col": 8,
        "fields": [
          {
            "element": "text",
            "source": "scientificMetadata.start_time",
            "order": 0
          },
          {
            "element": "copy",
            "source": "scientificMetadata.run_number.value",
            "order": 1
          },
          {
            "element": "text",
            "source": "creationTime",
            "order": 2
          },
          {
            "element": "text",
            "source": "type",
            "order": 3
          },
          {
            "element": "text",
            "source": "datasetName",
            "order": 4
          },
          {
            "element": "tag",
            "source": "keywords",
            "order": 5
          }
        ]
      },
      {
        "type": "attachments",
        "label": "Gallery",
        "order": 1,
        "col": 2,
        "row": 2,
        "options": {
          "limit": 5,
          "size": "medium"
        }
      },
      {
        "type": "regular",
        "label": "Contact Information",
        "order": 2,
        "col": 2,
        "row": 1,
        "fields": [
          {
            "element": "text",
            "source": "principalInvestigator",
            "order": 0
          },
          {
            "element": "linky",
            "source": "contactEmail",
            "order": 1
          }
        ]
      },
      {
        "type": "regular",
        "label": "Files Information",
        "order": 3,
        "col": 2,
        "row": 1,
        "fields": [
          {
            "element": "text",
            "source": "scientificMetadata.runnumber",
            "order": 0
          },
          {
            "element": "text",
            "source": "sourceFolderHost",
            "order": 1
          },
          {
            "element": "text",
            "source": "numberOfFiles",
            "order": 2
          },
          {
            "element": "text",
            "source": "size",
            "order": 3
          },
          {
            "element": "text",
            "source": "numberOfFilesArchived",
            "order": 4
          },
          {
            "element": "text",
            "source": "packedSize",
            "order": 5
          }
        ]
      },
      {
        "type": "regular",
        "label": "Related Documents",
        "order": 4,
        "col": 4,
        "row": 1,
        "fields": [
          {
            "element": "internalLink",
            "source": "proposalIds",
            "order": 0
          },
          {
            "element": "internalLink",
            "source": "instrumentIds",
            "order": 1
          },
          {
            "element": "tag",
            "source": "sampleIds",
            "order": 2
          },
          {
            "element": "tag",
            "source": "inputDatasets",
            "order": 3
          },
          {
            "element": "internalLink",
            "source": "creationLocation",
            "order": 4
          }
        ]
      },
      {
        "type": "attachments",
        "label": "Gallery",
        "order": 5,
        "col": 1,
        "row": 1,
        "options": {
          "limit": 2,
          "size": "small"
        }
      },
      {
        "type": "scientificMetadata",
        "label": "Scientific Metadata Table",
        "viewMode": "table",
        "order": 6,
        "col": 9,
        "row": 1
      },
      {
        "type": "scientificMetadata",
        "label": "Scientific Metadata JSON",
        "viewMode": "json",
        "order": 6
      },
      {
        "type": "scientificMetadata",
        "label": "Scientific Metadata Tree",
        "viewMode": "tree",
        "order": 6
      },
      {
        "type": "datasetJsonView",
        "label": "Dataset Json View",
        "order": 7,
        "col": 10,
        "row": 2
      }
    ]
  },
  "defaultMainPage": {
    "nonAuthenticatedUser": "DATASETS",
    "authenticatedUser": "PROPOSALS"
  },
  "siteHeaderLogoUrl": "https://my.facility.site",
  "mainMenu": {
    "nonAuthenticatedUser": {
      "datasets": true,
      "files": false,
      "instruments": true,
      "jobs": false,
      "policies": false,
      "proposals": true,
      "publishedData": true,
      "samples": false
    },
    "authenticatedUser": {
      "datasets": true,
      "files": true,
      "instruments": true,
      "jobs": true,
      "policies": false,
      "proposals": true,
      "publishedData": true,
      "samples": true
    }
  }
}
