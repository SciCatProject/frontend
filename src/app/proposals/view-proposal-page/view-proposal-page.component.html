<mat-tab-group *ngIf="vm$ | async as vm">
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon> details </mat-icon>
      Details
    </ng-template>
    <ng-template matTabContent
      ><proposal-detail [proposal]="proposal"></proposal-detail
    ></ng-template>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon> folder </mat-icon>
      Datasets
    </ng-template>

    <ng-template matTabContent>
      <div class="dataset-table">
        <app-table
          [data]="tableData"
          [columns]="tableColumns"
          [paginate]="tablePaginate"
          [currentPage]="vm.currentPage"
          [dataCount]="vm.datasetCount"
          [dataPerPage]="vm.datasetsPerPage"
          (pageChange)="onPageChange($event)"
          (rowClick)="onRowClick($event)"
        ></app-table>
      </div>
    </ng-template>
  </mat-tab>

  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon> folder </mat-icon>
      Related Proposals
    </ng-template>

    <ng-template matTabContent>
      <app-related-proposals *ngIf="proposal"></app-related-proposals>
    </ng-template>
  </mat-tab>

  <mat-tab *ngIf="appConfig.logbookEnabled">
    <ng-template mat-tab-label>
      <mat-icon> book </mat-icon>
      Logbook
    </ng-template>

    <ng-template matTabContent>
      <app-proposal-logbook [logbook]="logbook$ | async"></app-proposal-logbook>
    </ng-template>
  </mat-tab>
</mat-tab-group>
