<div fxLayout="row" fxLayout.xs="column" *ngIf="user$ | async as user">
  <div fxFlex="80">
    <mat-card>
      <mat-card-header class="general-header">
        <div mat-card-avatar class="section-icon">
          <mat-icon> person </mat-icon>
        </div>
        User Information
      </mat-card-header>

      <img
        class="profile-image"
        src="{{ profileImage$ | async }}"
        height="65px"
        alt="profile photo"
      />

      <table>
        <tr *ngIf="displayName$ | async as value">
          <th>Name</th>
          <td>{{ value }}</td>
        </tr>
        <tr *ngIf="user['email'] as value">
          <th>Email</th>
          <td>{{ value }}</td>
        </tr>
        <tr *ngIf="user.id as value">
          <th>Id</th>
          <td>{{ value }}</td>
        </tr>
        <tr *ngIf="accessGroups$ | async as value">
          <th>Groups</th>
          <td>{{ value }}</td>
        </tr>
        <tr *ngIf="scicatToken$ | async as value">
          <th>Scicat Token</th>
          <td>
            {{ value }}
            <span class="copy-button" (click)="onCopy(value)">
              <mat-icon matTooltip="Copy token to clipboard">post_add</mat-icon>
            </span>
          </td>
        </tr>
      </table>
    </mat-card>

    <mat-card *ngIf="settings$ | async as settings">
      <mat-card-header class="settings-header">
        <div mat-card-avatar class="section-icon">
          <mat-icon> settings </mat-icon>
        </div>
        Settings
      </mat-card-header>

      <table>
        <tr *ngIf="settings.datasetCount as value">
          <th>Dataset Count</th>
          <td>{{ value }}</td>
        </tr>
        <tr *ngIf="settings.jobCount as value">
          <th>Job Count</th>
          <td>{{ value }}</td>
        </tr>
      </table>
    </mat-card>
  </div>
</div>
