{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#home","title":"Home","text":"<p>Welcome to our documentation</p>"},{"location":"about/","title":"About SciCat","text":""},{"location":"about/#about-scicat","title":"About SciCat","text":"<p>SciCat is a community driven scientific metadata catalog designed to simplify metadata management, enabling data sharing, discovery, and collaboration. By providing a central hub for metadata, SciCat makes data easily findable and accessible for the entire community. With flexible integration into diverse infrastructures and a clear path to data publication, SciCat empowers organizations to foster an open and innovative data culture, driving high-quality science forward.</p> <p>For more information about the SciCat Project please visit https://scicatproject.org</p>"},{"location":"contributors/configurable_actions_technical/","title":"Configurable Actions","text":""},{"location":"contributors/configurable_actions_technical/#configurable-actions-technical-documentation","title":"Configurable Actions: Technical Documentation","text":""},{"location":"contributors/configurable_actions_technical/#overview","title":"Overview","text":"<p>Configurable actions are a flexible framework for defining and integrating user actions (like downloads, data transfers, or remote calls) into the SciCat FE. Actions are defined as JSON objects in the configuration file and rendered by the corresponding Angular components, allowing site administrators to tailor functionality without changing core FE application code.</p> <p>Configurable actions can: - Trigger file downloads (all or selected files from a dataset) - Submit data to remote services (e.g., prepare and download a Jupyter notebook) - Change the publication status of datasets - Redirect users to custom links</p>"},{"location":"contributors/configurable_actions_technical/#concepts","title":"Concepts","text":""},{"location":"contributors/configurable_actions_technical/#1-action-object","title":"1. Action Object","text":"<p>Each configurable action is represented by an object with a well-defined schema. Key properties include: - <code>id</code>: Unique identifier - <code>label</code>: The button or menu text - <code>description</code>: Text explaining the action (for tooltips or help) - <code>type</code>: Kind of action (<code>form</code>, <code>xhr</code>, <code>link</code>, <code>json-download</code>, etc.) - <code>order</code>: Display order - <code>url</code>: Destination or API endpoint - <code>enabled</code>: Logic condition for availability - <code>authorization</code>: Logic conditions controlling access (Not implemented yet) - <code>variables</code>: Key-value pairs mapping action logic to dataset/user context - <code>payload</code>/<code>inputs</code>/<code>headers</code>: Parameters required by the action</p>"},{"location":"contributors/configurable_actions_technical/#2-action-types","title":"2. Action Types","text":"<ul> <li>form: Submits data via HTTP form POST/GET to a given endpoint (<code>url</code>), optionally opening new tabs/windows.</li> <li>xhr: Sends AJAX (XHR) requests (e.g., PATCH/POST) for more complex workflows. This type of action can be used to configure a call to the BE.</li> <li>link: Simple redirect to a URL.</li> <li>json-download: Executes a call to a remote URL and expects a JSON payload that can be downloaded by the user through the browser. The action allows to define the name of the file to be downloaded.</li> </ul>"},{"location":"contributors/configurable_actions_technical/#3-variable-and-input-substitution","title":"3. Variable and Input Substitution","text":"<p>Variables (defined in the <code>variables</code> object) are user-defined values which use placeholders referencing runtime data, such as: - Dataset attributes (e.g., <code>#Dataset0Pid</code>, <code>#Dataset0FilesPath</code>) - File lists or counts - System information, like user authentication token (<code>#jwt</code>, <code>#tokenBearer</code>) or auto generated uuid and more.</p> <p>Entries under the <code>inputs</code> field define the form fields that are dynamically created on the form that it is than submitted when the action is triggered. The <code>payload</code> field contains what is sent as body of the POST request when an XHR or json-download action is triggered.  User defined variables can be injected in the inputs and payload by including the variable name enclosed in double curly braces <code>{{ ... }}</code>. Example: Given the following configuration: </p><pre><code>{\n  \"variables\" : {\n    \"pid\" : \"#Dataset0Pid\"\n  },\n  \"payload\" : '{\"datasetPid\" : \"{{ @pid }}}',\n}\n</code></pre><p></p> <p>When the action is triggered by a click on the button, the action's engine extract the pid of the first dataset listed and saves it in the internal variable named pid, than takes the payload string and substitute the string <code>{{ @pid }}</code> with the actual pid of the dataset contained in the <code>pid</code> variable. Than the payload is sent with the request.</p>"},{"location":"contributors/configurable_actions_technical/#4-enable-and-authorization-conditions","title":"4. Enable and Authorization Conditions","text":"<p>The <code>enabled</code> or <code>disabled</code> fields are the expression that evaluates whether the action should be enabled or disabled. Only one of them is needed, if both are present, <code>disabled</code> takes the precedence. This field supports logical operators and variable references (e.g., <code>#Length(@files) &amp;&amp; #MaxDownloadableSize(@totalSize)</code>).</p> <p>The <code>authorization</code> field restricts actions based on user or dataset properties (e.g., requiring the user to be the dataset owner).</p> <p>Both configuration support logical operators and variables injection. More information on all the options can be found in the (reference section)[configuration_options_reference] below</p>"},{"location":"contributors/configurable_actions_technical/#example-configuration","title":"Example Configuration","text":"<pre><code>{\n  \"id\": \"example-action-id\",\n  \"label\": \"Download All\",\n  \"description\": \"Download all files using the zip service\",\n  \"order\": 1,\n  \"type\": \"form\",\n  \"url\": \"https://zip.scicatproject.org/download/all\",\n  \"target\": \"_blank\",\n  \"mat_icon\": \"download\",\n  \"variables\": {\n    \"pid\": \"#Dataset0Pid\",\n    \"files\": \"#Dataset0FilesPath\",\n    \"totalSize\": \"#Dataset0FilesTotalSize\",\n    \"folder\": \"#Dataset0SourceFolder\"\n  },\n  \"inputs\": {\n    \"item[]\": \"@pid\",\n    \"directory[]\": \"@folder\",\n    \"files[]\": \"@files\"\n  },\n  \"enabled\": \"#MaxDownloadableSize(@totalSize)\",\n  \"authorization\": [\"#datasetAccess\", \"#datasetPublic\"]\n}\n</code></pre> <p>This example action configures a button with label \"Download All\" and icon mat-icon <code>download</code>. The action is of type <code>form</code> which by default will submit a form with method POST. Internally, it defines 4 variables with name <code>pid</code>, <code>files</code>, <code>totalSize</code>, and <code>folder</code> with their values depending from the dataset fields. The variables are used to define the fields of the form. When the user clicks the button, the FE creates a form with the listed fields and submits it to the specified URL as a POST, then shows the reply in a new browser tab.</p>"},{"location":"contributors/configurable_actions_technical/#configuration-options-reference","title":"Configuration Options Reference","text":"Field Description Example id Unique action identifier <code>\"eed8efec-4354-11ef-a3b5-d75573a5d37f\"</code> label Button or menu label shown to users <code>\"Download All\"</code> description Tooltip/help text for the action <code>\"Download all files using the zip service\"</code> order Integer controlling sort order <code>1</code> type Type of action (<code>form</code>, <code>xhr</code>, <code>link</code>, etc) <code>\"form\"</code> url Destination URL or API endpoint <code>\"https://.../download/all\"</code> target Browser target (<code>_blank</code>, etc) <code>\"_blank\"</code> mat_icon (Optional) Material icon name <code>\"download\"</code> icon (Optional) Path or URL to custom icon <code>\"/icons/jupyter_logo.png\"</code> variables Key-value pairs for variable substitution <code>{...}</code> inputs Key-value pairs for form submissions <code>{...}</code> payload Data payload for XHR or json-download actions <code>\"{...}\"</code> filename Filename pattern for downloads <code>\"{{ #uuid }}.ipynb\"</code> method HTTP method for XHR actions <code>\"PATCH\"</code> headers HTTP headers object for XHR <code>{...}</code> enabled Condition expression to enable/disable action <code>\"#Length(@files) &gt; 0\"</code> authorization List or string with conditions required to access the action <code>[\"#datasetOwner\"]</code>"},{"location":"contributors/configurable_actions_technical/#available-operators-and-system-variables","title":"Available operators and system variables","text":"<p>This section list all the default values and operators that are available when configuring the configurable actions.</p> Operator Type Description #Dataset0Pid string The pid of the first dataset passed to the action #Dataset0FilesPath [string] The list of all the path for all the files in the first dataset passed to the action #Dataset0FilesTotalSize integer The total size of all the files of the first dataset passed to the action #Dataset0SourceFolder string The source folder indicated in the related field of the first dataset passed to the action #Dataset0SelectedFilesPath [string] The list of the paths for all the selected files of the first dataset passed to the action #Dataset0SelectedFilesCount integer The number of selected files of the first dataset passed to the action #Dataset0SelectedFilesTotalSize integer The total size of all the selected files of the first dataset passed to the action #Dataset[i]Field[f] any The value of field <code>f</code> of the <code>i</code>-th dataset passed to the action #DatasetsPid [string] The list of pids of the all datasets passed to the action #DatasetsFilesPath [string] The list of all the paths for all the files of all the datasets passed to the action #DatasetsFilesTotalSize integer The total size of all the files of all the datasets passed to the action #DatasetsSourceFolder [string] The list of source folders indicated in the related field of all the datasets passed to the action #DatasetsSelectedFilesCount integer The number of all selected files from all the datasets passed to the action #DatasetsSelectedFilesTotalSize integer The total size of all the selected files from all the datasets passed to the action #DatasetsField[f] [any] The list of values of field <code>f</code> from all the datasets passed to the action #Length( @variable ) integer The number of elements in the specified variable #datasetOwner boolean True if the user is part of the owner group of the dataset(s) #userIsAdmin boolean True if the user is an admin #uuid string A v4 uuid generated on the fly @variable any replace the string with the valu eof the variable defined in the action variable"},{"location":"contributors/configurable_actions_technical/#how-to-configure","title":"How to Configure","text":"<ol> <li>Identify Use Case: Determine what user action you want to implement (e.g., file download, notebook generation, external call or BE call).</li> <li>Describe Action: Define the label, description, and type.</li> <li>Set Variables/Inputs: List all the dynamic values referenced in <code>payload</code>, <code>inputs</code>, or <code>url</code>.</li> <li>Authorization/Enablement: Write logical conditions so only the right users see or can use this action.</li> <li>Test: Deploy the configuration and verify the new action appears and behaves as expected in the UI.</li> </ol>"},{"location":"contributors/configurable_actions_technical/#practical-guidance","title":"Practical Guidance","text":"<ul> <li>Variables should match keys provided by the front end for dataset, user, or file properties.</li> <li>Always test conditions for <code>enabled</code> and <code>authorization</code> to ensure correct visibility for intended users/roles.</li> <li>For complex enabled/authorization expressions, coordinate with the front-end development team for the latest available operators and syntax.</li> <li>Update action definitions via the appropriate system configuration (file, database, or admin interface per deployment).</li> </ul>"},{"location":"contributors/datafiles-actions/","title":"Datafiles Action Configuration","text":""},{"location":"contributors/datafiles-actions/#datafiles-action-configuration","title":"Datafiles Action Configuration","text":"<p>IMPORTANT: this file is deprecated as the datafiles actions are now implemented using configurable actions</p> <p>This page describes how to configure the datafiles actions. Datafiles actions are actions available to users when viewing the list of files associated to a dataset which can be viewed under the the Datafiles tab of the dataset details page. These actions are shown as button between the page header and the table listing the files.</p> <p>There are two properties in the frontend configuration structure that control the datafiles actions:</p> <ul> <li>datafilesActionsEnabled Type: boolean   This property enables the action sfeature on the datafiles page.</li> <li>datafilesActions Type: array of ActionConfig   This property contains an array of action definition. Each element defines an individual action that is rendered as button. Each button can have a label or an icon or both.</li> <li>maxDirectDownloadSize Type: numeric   This property specify the maximum that total size of the files included in any datafiles action can reach. The quantity is expressed in bytes</li> </ul> <p>The type ActionConfig define how the button triggring the action is rendered and what the action does. The structure of ActionConfig is the following:</p> <ul> <li>id Type: string   This is a unique id for this action. It does not have any effect on the rendering nor the action. It is included for traceability, management and debugging purposes.</li> <li>order Type: number   This property indicates the order in which this action will be rendered in comparison to the others.</li> <li>label Type: string   This property provides the label rendered in the button. If a label is not needed, leave it empty.</li> <li>files Type: string   This property indicates which files should be submitted with the requested action.   Currently on the following two values are accepted:</li> <li>all: all the files will be submitted with the action</li> <li>selected: only the selected files will be submitted with the action</li> <li>mat_icon Type: string Optional   If specified, this is the name of the mat icon that shouls be rendered in the button.   If it is not present, no mat icon is shown in the button.   This icon takes precedence over the property icon explained next.</li> <li>icon Type: string Optional   If specified, this is the relative path to the icon file to be shown in the related button. It is shown only if property mat_icon is not defined.   If not present, no icon is shown.</li> <li>url Type: string   This specify the URL where the POST submission should be send.</li> <li>target Type: string   Select what is the behaviour when the action is triggered, as if it should reload th epage, open a different tab or browser window.   For more information, pleae refer to the official HTML form documentation available at this URL: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#target</li> <li>method Type: string Optional Default: POST   Underlying form submission method.   It is strongly suggested to leaving undefined and use the default which is POST.   If the action uses a different one, please refer to the official HTML form documentation available at this URL https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#method</li> <li>enabled Type: string Optional   This property specify the condition when the action is enabled. It takes precedence over the following property disabled. It may can contains the following two keywords alone or combined in a logical expression.</li> <li> </li> <li> </li> <li>disabled Type: string Optional   This property specify when the action is disabled. It is used only if the property enabled is not define. Please check property enabled for the possible values.</li> <li>authorization Type: string[] Optional IMPORTANT: This value is for future use and not yet implemented.   The intented use is to be able to enable/disable the button based on the groups the user belongs to.</li> </ul>"},{"location":"contributors/datafiles-actions/#sizelimit-true-if-the-total-size-of-the-files-that-will-be-used-in-the-action-is-less-or-equal-to-the-size-specified-in-the-configuration-property-maxdirectdownloadsize","title":"SizeLimit: true if the total size of the files that will be used in the action is less or equal to the size specified in the configuration property maxDirectDownloadSize","text":""},{"location":"contributors/datafiles-actions/#selected-true-if-any-file-has-been-selected-in-the-list","title":"Selected: true if any file has been selected in the list.","text":""},{"location":"contributors/datafiles-actions/#behavior","title":"Behavior","text":"<p>When the action is triggered by a click on the rendered button, a call of the defined tpye, aka POST or GET, is submitted to the URL provided together with the appropriate list of files. The action acts like a form submission with all the following arguments:</p> <ul> <li>target: as defined in the action</li> <li>method: as defined in the action or POST if not</li> <li>action: set as th eurl provided in the action   and inputs:</li> <li>auth_token: user current token id</li> <li>jwt: a jwt token defined for the user</li> <li>dataset: dataset pid of the dataset shown</li> <li>directory: dataset source folder</li> <li>files[]: array of the selected files if action property files is set to selected, or all files if action property files is set to all</li> </ul>"},{"location":"contributors/datafiles-actions/#examples","title":"Examples","text":"<p>This example define the following 4 type of actions:</p> <ol> <li>Download All files    It renders a button with the download icon and label Download All. When clicked, the action will send a POST request to the url https://download.scicat.org with the list of all files associated with the dataset. It is enabled only when the total size is lower than the max size defined in configuration.</li> <li>Download Selected Files    It renders a button with the download icon and label Download Selected. When clicked, the action will send a POST request to the url https://download.scicat.org with the list of the dataset's files selected by the user. It is enabled only when the total size is lower than the max size defined in configuration and at least one file is selected.</li> <li>Create and download a notebook which load the dataset metadata and download locally all the files    It renders a button with the Jupyter icon and label Notebook All. When clicked, the action will send a POST request to the url https://notebook.scicat.org with the list of all the files associated with the dataset. It is always enabled.</li> <li>Create and download a notebook which load the dataset metadata and download locally only the selected files.    It renders a button with the Jupyter icon and label Notebook Selected. When clicked, the action will send a POST request to the url https://notebook.scicat.org with the list of the dataset's files selected by the user. It is enabled only when at least one file is selected.</li> </ol> <p>Configuration properties are set to the following values:</p> <pre><code>datafilesActionsEnabled = true\n\ndatafilesActions = [\n    {\n      id: \"eed8efec-4354-11ef-a3b5-d75573a5d37f\",\n      order: 4,\n      label: \"Download All\",\n      files: \"all\",\n      mat_icon: \"download\",\n      url: \"https://download.scicat.org\",\n      target: \"_blank\",\n      enabled: \"#SizeLimit\",\n    },\n    {\n      id: \"3072fafc-4363-11ef-b9f9-ebf568222d26\",\n      order: 3,\n      label: \"Download Selected\",\n      files: \"selected\",\n      mat_icon: \"download\",\n      url: \"https://download.scicat.org\",\n      target: \"_blank\",\n      enabled: \"#Selected &amp;&amp; #SizeLimit\",\n    },\n    {\n      id: \"4f974f0e-4364-11ef-9c63-03d19f813f4e\",\n      order: 2,\n      label: \"Notebook All\",\n      files: \"all\",\n      icon: \"/assets/icons/jupyter_logo.png\",\n      url: \"https://notebook.scicat.org\",\n      target: \"_blank\",\n    },\n    {\n      id: \"fa3ce6ee-482d-11ef-95e9-ff2c80dd50bd\",\n      order: 1,\n      label: \"Notebook Selected\",\n      files: \"selected\",\n      icon: \"/assets/icons/jupyter_logo.png\",\n      url: \"https://notebook.scicat.org\",\n      target: \"_blank\",\n      enabled: \"#Selected\",\n    },\n  ]\n</code></pre> <p>This configuration renders to the following buttons if no files are selected: </p> <p>or in this other one when at least one file is selected: </p>"},{"location":"contributors/datafiles-actions/#tests","title":"Tests","text":"<p>The previous examples are the settings used for the associated unit tests with the addition of the following settings:</p> <pre><code>files = [\n  {\n    path: \"file1\",\n    size: 5000,\n    time: \"2019-09-06T13:11:37.102Z\",\n    chk: \"string\",\n    uid: \"string\",\n    gid: \"string\",\n    perm: \"string\",\n    selected: false,\n    hash: \"\",\n  },\n  {\n    path: \"file2\",\n    size: 10000,\n    time: \"2019-09-06T13:11:37.102Z\",\n    chk: \"string\",\n    uid: \"string\",\n    gid: \"string\",\n    perm: \"string\",\n    selected: false,\n    hash: \"\",\n  },\n]\n\nlowerMaxFileSizeLimit = 9999;\nhigherMaxFileSizeLimit = 20000;\n</code></pre> <p>There are three group of tests:</p> <ol> <li>testing enabling/disabling of the rendered buttons</li> <li>testing that action and related form submissions contains the correct files and urls</li> <li>testing that the buttons contain the correct label as specified in the configuration</li> </ol>"},{"location":"theme/color-theme/","title":"Theme System Overview & New Variables","text":""},{"location":"theme/color-theme/#theme-system-overview","title":"Theme System Overview","text":"<p>The SciCat front-end uses a CSS variable\u2013based theming system. All configurable visual properties\u2014colors, and component-specific styles\u2014are exposed as <code>--theme-*</code> variables.  </p> <p>This allows deployments to adjust appearance without touching source code. The application reads these variables directly in SCSS using standard var() usage:</p> <pre><code>color: var(--theme-header-1-default);\nborder: var(--theme-table-border);\nbox-shadow: var(--theme-table-shadow);\n</code></pre>"},{"location":"theme/color-theme/#variable-details","title":"Variable Details","text":"<p><code>--theme-primary-default</code></p> <p><code>--theme-primary-default-contrast</code></p> <p>\u2026 Above variables control general old theme colors (modify as needed)</p>"},{"location":"theme/color-theme/#newly-added-variables","title":"Newly Added Variables","text":""},{"location":"theme/color-theme/#date-2025-12-05","title":"Date: 2025-12-05","text":"<pre><code>--theme-side-panel-border\n--theme-side-panel-shadow\n--theme-table-border\n--theme-table-shadow\n</code></pre> \u26a0\ufe0f NOTE: The 4 variables are currently implemented only on the Datasets and Proposals pages. <p><code>--theme-side-panel-border</code>: Controls the border around the collapsible side panel. - Default: none - Component-level fallback:   -  1px solid rgba(153, 213, 233, 0.7) (provided through var(--theme-table-border, fallback) in SCSS) - Set to none to remove the border completely.</p> <p><code>--theme-side-panel-shadow</code>: Controls the shadow applied to the side panel. - Default: Material-like elevation shadow   - 0px 2px 1px -1px rgba(0, 0, 0, 0.20), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12)` - Set to none to disable shadows.</p> <p><code>--theme-table-border</code>: Controls the border around the table container. - Default: none - Component-level fallback:   -  1px solid rgba(153, 213, 233, 0.7) (provided through var(--theme-table-border, fallback) in SCSS) - Set to none to remove the border completely.</p> <p><code>--theme-table-shadow</code>: Controls the shadow applied to the table container. - Default: Material-like elevation shadow   - 0px 2px 1px -1px rgba(0, 0, 0, 0.20), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12)` - Set to none to disable shadows.</p>"},{"location":"user/configurable_actions_user/","title":"Configurable Actions","text":""},{"location":"user/configurable_actions_user/#what-are-configurable-actions","title":"What Are Configurable Actions?","text":"<p>For non-technical users at ESS, configurable actions are custom buttons or menu options that appear in multiple locations in the web interface. Currently they are used only on the dataset data file tab, but they will soon be available on the dataset details tab, datasets list, and the selection.</p> <p>These actions make it easy to perform specific tasks with just a click. Examples include:</p> <ul> <li>Download All Files: Download every file in a dataset in one go.</li> <li>Download Selected Files: Download only the files you have selected from a dataset.</li> <li>Download Jupyter Notebook: Get a ready-made Jupyter notebook that\u2019s already filled in with information about your selected dataset.</li> <li>Publish or Unpublish a Dataset: Change whether a dataset is visible to others or kept private.</li> <li>Quick Links: Jump directly to important resources, like the ESS homepage.</li> </ul> <p>Each action is set up behind the scenes by the IT team through the FE configuration during deployment. The system automatically fills in any technical details for you (like dataset IDs or file locations), so you don\u2019t have to worry about them.</p> <p>In summary: Configurable actions help you get your work done faster and more easily, without needing to worry about technical steps or complicated processes.</p>"}]}